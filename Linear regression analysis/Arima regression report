from sklearn.metrics import mean_squared_error, mean_absolute_error, r2_score


# Initializing lists to store the metrics for each activity
mae_list = []
mse_list = []
rmse_list = []
r2_list = []

# Calculating metrics for each activity
for activity in activities:
    # Get the historical data
    activity_data = data[data['Item'] == activity]['Value']

    # Get the fitted values from the ARIMA model
    fitted_values = arima_models[activity].fittedvalues

    # Calculate the metrics
    mae = mean_absolute_error(activity_data[d:], fitted_values[d:])
    mse = mean_squared_error(activity_data[d:], fitted_values[d:])
    rmse = mean_squared_error(activity_data[d:], fitted_values[d:], squared=False)
    r2 = r2_score(activity_data[d:], fitted_values[d:])

    # Store the metrics
    mae_list.append(mae)
    mse_list.append(mse)
    rmse_list.append(rmse)
    r2_list.append(r2)

# Create a DataFrame to display the metrics for each activity
regression_report_df = pd.DataFrame({
    'Activity': activities,
    'MAE': mae_list,
    'MSE': mse_list,
    'RMSE': rmse_list,
    'R2': r2_list
})

regression_report_df
